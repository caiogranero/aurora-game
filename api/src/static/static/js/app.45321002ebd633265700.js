webpackJsonp([1],{"/k1t":function(t,e){},D4uH:function(t,e,n){"use strict";function i(){return"fa-"+(a++).toString(16)}function s(t){n("wTBZ")}var r={},o={name:"icon",props:{name:{type:String,validator:function(t){return t?t in r||(console.warn('Invalid prop: prop "name" is referring to an unregistered icon "'+t+'".\nPlesase make sure you have imported this icon before using it.'),!1):(console.warn('Invalid prop: prop "name" is required.'),!1)}},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(t){return"horizontal"===t||"vertical"===t}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var t=this.scale;return t=void 0===t?1:Number(t),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},klass:function(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse}},icon:function(){return this.name?r[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var t=this.icon,e=t.width,n=t.height;return Math.max(e,n)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw:function(){if(!this.icon||!this.icon.raw)return null;var t=this.icon.raw,e={};return t=t.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,function(t,n){var s=i();return e[n]=s,' id="'+s+'"'}),t=t.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(t,n,i,s){var r=n||s;return r&&e[r]?"#"+e[r]:t}),t}},mounted:function(){var t=this;if(!this.icon){this.$children.forEach(function(e){e.outerScale=t.normalizedScale});var e=0,n=0;this.$children.forEach(function(t){e=Math.max(e,t.width),n=Math.max(n,t.height)}),this.childrenWidth=e,this.childrenHeight=n,this.$children.forEach(function(t){t.x=(e-t.width)/2,t.y=(n-t.height)/2})}},register:function(t){for(var e in t){var n=t[e];n.paths||(n.paths=[]),n.d&&n.paths.push({d:n.d}),n.polygons||(n.polygons=[]),n.points&&n.polygons.push({points:n.points}),r[e]=n}},icons:r},a=870711,c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{class:t.klass,style:t.style,attrs:{version:"1.1",role:t.label?"img":"presentation","aria-label":t.label,x:t.x,y:t.y,width:t.width,height:t.height,viewBox:t.box}},[t._t("default",[t.icon&&t.icon.paths?t._l(t.icon.paths,function(e,i){return n("path",t._b({key:"path-"+i},"path",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.polygons?t._l(t.icon.polygons,function(e,i){return n("polygon",t._b({key:"polygon-"+i},"polygon",e,!1))}):t._e(),t._v("\b\n    "),t.icon&&t.icon.raw?[n("g",{domProps:{innerHTML:t._s(t.raw)}})]:t._e()])],2)},u=[],l={render:c,staticRenderFns:u},d=l,h=n("VU/8"),f=s,p=h(o,d,!1,f,null,null);e.a=p.exports},H9GR:function(t,e){},HLof:function(t,e,n){"use strict";function i(t){n("hMgo")}Object.defineProperty(e,"__esModule",{value:!0});var s={props:{timeout:{type:Number,default:3e3},transition:{type:String,default:"slide-fade"},types:{type:Object,default:function(){return{base:"alert",success:"alert-success",error:"alert-danger",warning:"alert-warning",info:"alert-info"}}},displayIcons:{type:Boolean,default:!1},icons:{type:Object,default:function(){return{base:"fa",error:"fa-exclamation-circle",success:"fa-check-circle",info:"fa-info-circle",warning:"fa-exclamation-circle"}}}},data:function(){return{notifications:[]}},created:function(){var t=this;window.events.$on("flash",function(e,n){return t.flash(e,n)})},methods:{flash:function(t,e){this.notifications.push({message:t,type:e,typeObject:this.classes(this.types,e),iconObject:this.classes(this.icons,e)}),setTimeout(this.hide,this.timeout)},classes:function(t,e){var n={};return t.hasOwnProperty("base")&&(n[t.base]=!0),t.hasOwnProperty(e)&&(n[t[e]]=!0),n},hide:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.notifications[0],e=this.notifications.indexOf(t);this.notifications.splice(e,1)}}},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"alert-wrap"},[n("transition-group",{attrs:{name:t.transition,tag:"div"}},t._l(t.notifications,function(e,i){return n("div",{key:i,class:e.typeObject,attrs:{role:"alert"}},[t.displayIcons?n("span",{class:e.iconObject}):t._e(),t._v(" "),n("span",{domProps:{innerHTML:t._s(e.message)}})])}))],1)},o=[],a={render:r,staticRenderFns:o},c=a,u=n("VU/8"),l=i,d=u(s,c,!1,l,"data-v-654428ef",null);e.default=d.exports},Iswh:function(t,e){},IzQl:function(t,e){},NHnr:function(t,e,n){"use strict";function i(t){n("vBFO")}function s(t){n("e5up")}function r(t){n("H9GR")}function o(t){n("/k1t")}function a(t){n("Uofd")}function c(t){n("Iswh")}function u(t){n("IzQl")}Object.defineProperty(e,"__esModule",{value:!0});var l=n("fZjL"),d=n.n(l),h=n("7+uW"),f=n("HLof"),p={name:"app",components:{flash:f.default}},v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("flash",{attrs:{timeout:3e3}}),t._v(" "),n("div",{staticClass:"menu"},[n("div",{staticClass:"name"},[t._v("Aurora")]),t._v(" "),n("div",{staticClass:"reset",on:{click:function(e){t.$store.commit("clearDice")}}},[n("icon",{attrs:{name:"refresh",scale:"2"}})],1)]),t._v(" "),n("router-view")],1)},m=[],g={render:v,staticRenderFns:m},_=g,y=n("VU/8"),w=i,b=y(p,_,!1,w,null,null),$=b.exports,P=n("/ocq"),x=n("M4fF"),S=n.n(x),C={name:"Dice",computed:{dices:function(){return this.$store.state.dices.map(function(t){return S.a.upperFirst(t)}).join(", ")}}},R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"dice"}},[t.dices.length>0?n("h4",[t._v("Dados jogados:   ")]):t._e(),t._v(" "),t.dices.length>0?n("p",{attrs:{id:"dices-list"}},[t._v(" "+t._s(t.dices)+" ")]):t._e()])},E=[],k={render:R,staticRenderFns:E},D=k,H=n("VU/8"),O=s,U=H(C,D,!1,O,"data-v-f0b396f2",null),F=U.exports,j=n("woOf"),z=n.n(j),L={name:"Categories",data:function(){return{selected:0}},computed:{dices:function(){return this.$store.state.dices},categories:function(){return this.$store.state.categories}},watch:{selected:function(){this.$store.commit("selectCategory",this.selected)},dices:function(t,e){t.length>0?this.categories.forEach(function(t){t.disabled=!0}):(this.categories.forEach(function(t){t.disabled=!1}),this.selected=0)}},created:function(){var t=this;this.$CategoriesService.get().then(function(e){var n=e.data.results.map(function(t){return z()(t,{disabled:!1})});t.$store.commit("categories",n)},function(t){window.flash("Erro ao obter categorias disponíveis - "+t.toString(),"error")})}},B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"categories"}},[n("h2",[t._v("Categorias")]),t._v(" "),n("div",{attrs:{id:"categories-list"}},t._l(t.categories,function(e){return n("div",{key:e._id,attrs:{id:"category-item"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],attrs:{type:"radio",name:"category-checkbox",id:"category-checkbox",disabled:e.disabled},domProps:{value:e._id,checked:t._q(t.selected,e._id)},on:{change:function(n){t.selected=e._id}}}),t._v(" "),n("b",[t._v(t._s(e.name))]),t._v("["+t._s(e.description)+"]: "),n("u",[t._v(t._s(e.rule))])])}))])},M=[],N={render:B,staticRenderFns:M},V=N,G=n("VU/8"),I=r,T=G(L,V,!1,I,"data-v-6ac060ea",null),A=T.exports,W={name:"Play",data:function(){return{results:[]}},computed:{dices:function(){return this.$store.state.dices},selectedCategory:function(){return this.$store.state.selectedCategory}},watch:{dices:function(){5===this.dices.length&&this.calculate()}},methods:{start:function(){var t=this;this.dices.length<5&&this.selectedCategory&&d()(this.selectedCategory).length>0?this.$DicesService.get().then(function(e){t.$store.commit("newDice",e.data.results)}):window.flash("Necessário selecionar uma categoria","warning")},calculate:function(){var t=this;this.$GameService.game({dices:this.dices}).then(function(e){t.$store.commit("results",e.data.results)},function(t){window.flash("Erro ao obter resultados da partida "+t.toString(),"error")})}}},q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"play"},[n("input",{attrs:{type:"button",id:"btn-play",value:"Rodar o dado"},on:{click:t.start}})])},Z=[],J={render:q,staticRenderFns:Z},Q=J,Y=n("VU/8"),K=o,X=Y(W,Q,!1,K,"data-v-5d39c0af",null),tt=X.exports,et={name:"Restart",methods:{restart:function(){this.$store.commit("clearDice")}}},nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"restart"},[n("input",{attrs:{type:"button",id:"btn-restart",value:"Recomeçar o jogo"},on:{click:t.restart}})])},it=[],st={render:nt,staticRenderFns:it},rt=st,ot=n("VU/8"),at=a,ct=ot(et,rt,!1,at,"data-v-6226df13",null),ut=ct.exports,lt={name:"Results",computed:{results:function(){return this.$store.state.results},maxPoints:function(){return this.$store.state.maxPoints},minPoints:function(){return this.$store.state.minPoints},userPoints:function(){return this.$store.state.userPoints}}},dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"results"}},[t._m(0),t._v(" "),n("p",{attrs:{id:"total-points"}},[n("u",[t._v("Você pontuou")]),t._v(" "),n("strong",[t._v(t._s(t.userPoints.totalPoints)+" pontos")]),t._v(" na categoria "),n("strong",[t._v(t._s(t.userPoints.category))])]),t._v(" "),n("p",{attrs:{id:"total-points"}},[t._v("A "),n("u",[t._v("pontuação máxima")]),t._v(" foi de "),n("strong",[t._v(t._s(t.maxPoints.totalPoints)+" pontos")]),t._v(" na categoria "),n("strong",[t._v(t._s(t.maxPoints.category))])]),t._v(" "),n("p",{attrs:{id:"total-points"}},[t._v(" A "),n("u",[t._v("pontuação mínima")]),t._v(" foi de "),n("strong",[t._v(t._s(t.minPoints.totalPoints)+" pontos")]),t._v(" na categoria "),n("strong",[t._v(t._s(t.minPoints.category))])]),t._v(" "),n("br"),t._v(" "),t._m(1),t._v(" "),t._l(t.results,function(e){return n("div",{key:e.category},[n("p",{attrs:{id:"total-points"}},[t._v("A pontuação da "),n("u",[t._v("categoria")]),t._v(" "),n("strong",[t._v(t._s(e.category))]),t._v(" foi de "),n("strong",[t._v(t._s(e.totalPoints)+" pontos")])])])})],2)},ht=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h4",[n("u",[t._v("Principais resultados")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h4",[n("u",[t._v("Todos os resultados")])])}],ft={render:dt,staticRenderFns:ht},pt=ft,vt=n("VU/8"),mt=c,gt=vt(lt,pt,!1,mt,"data-v-a0a40810",null),_t=gt.exports,yt={name:"Game",components:{Dice:F,Categories:A,Play:tt,Results:_t,Restart:ut},computed:{dicesLength:function(){return this.$store.state.dices.length},results:function(){return this.$store.state.results}},watch:{results:function(){this.results.length>0&&window.setTimeout(function(){window.scrollTo(0,document.body.offsetHeight)},10)}}},wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"game"}},[n("categories"),t._v(" "),n("dice"),t._v(" "),t.results.length>0?n("hr"):t._e(),t._v(" "),t.results.length>0?n("results"):t._e(),t._v(" "),t.dicesLength<=5?n("play"):t._e(),t._v(" "),5===t.dicesLength?n("restart"):t._e()],1)},bt=[],$t={render:wt,staticRenderFns:bt},Pt=$t,xt=n("VU/8"),St=u,Ct=xt(yt,Pt,!1,St,"data-v-63b18ace",null),Rt=Ct.exports;h.a.use(P.a);var Et=new P.a({routes:[{path:"/",name:"Game",component:Rt}]}),kt=n("NYxO"),Dt={dices:[],results:[],selectedCategory:0,categories:[],maxPoints:0,minPoints:0,userPoints:0},Ht=Dt,Ot={newDice:function(t,e){t.dices.push(e)},clearDice:function(t){window.flash("Jogo reiniciado","info"),t.dices=[],t.results=[],t.selectedCategory={}},results:function(t,e){var n=S.a.maxBy(e,function(t){return t.totalPoints}),i=S.a.minBy(e,function(t){return t.totalPoints}),s=S.a.find(e,function(e){return e.category===t.selectedCategory.name});t.maxPoints=n,t.minPoints=i,t.userPoints=s||{totalPoints:0,category:t.selectedCategory.name},t.results=e},selectCategory:function(t,e){var n=S.a.find(t.categories,function(t){return t._id===e});t.selectedCategory=n},categories:function(t,e){t.categories=e}},Ut=Ot;h.a.use(kt.a);var Ft={state:Ht,mutations:Ut},jt=new kt.a.Store(Ft),zt=n("mtWM"),Lt=n.n(zt),Bt=Lt.a.create({baseURL:"/api/game",timeout:3e3}),Mt={install:function(t){var e={name:"GameService",game:function(t){return Bt.post("/",t)}};t.$GameService=e,t.prototype.$GameService=e}},Nt=Lt.a.create({baseURL:"/api/categories",timeout:3e3}),Vt={install:function(t){var e={name:"CategoriesService",get:function(){return Nt.get("/")}};t.$CategoriesService=e,t.prototype.$CategoriesService=e}},Gt=Lt.a.create({baseURL:"/api/dices",timeout:3e3}),It={install:function(t){var e={name:"DicesService",get:function(){return Gt.get("/")}};t.$DicesService=e,t.prototype.$DicesService=e}},Tt={GameService:Mt,CategorieService:Vt,DicesService:It},At=n("D4uH");n("D/PP");h.a.component("icon",At.a),window.events=new h.a,window.flash=function(t,e){window.events.$emit("flash",t,e)},h.a.component("flash",n("HLof")),h.a.config.productionTip=!1,d()(Tt).forEach(function(t){return h.a.use(Tt[t])}),new h.a({el:"#app",router:Et,store:jt,template:"<App/>",components:{App:$}}).$mount()},Uofd:function(t,e){},e5up:function(t,e){},hMgo:function(t,e){},vBFO:function(t,e){},wTBZ:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.45321002ebd633265700.js.map